 <!DOCTYPE html>
 <html>
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=no">
		<title>XYZ Maps Example: Add and remove layer</title>

	    <script src="${XYZ_COMMON_PATH}" type="text/javascript" charset="UTF-8" ></script>
	    <script src="${XYZ_CORE_PATH}" type="text/javascript" charset="UTF-8" ></script>
	    <script src="${XYZ_DISPLAY_PATH}" type="text/javascript" charset="UTF-8" ></script>


 		<style type="text/css">
			#map {
				position: absolute;
            	overflow: hidden;
				top: 0;
				left: 0;
				width: 100%;
                height: 100%;
			}
 		</style>
	</head>
	<body>
		<div id="map"></div>
		<a id="linklayerbutton" class="button">Add link layer</a>
		<a id="placelayerbutton" class="button">Add Place layer</a>

		<script type="application/javascript">
			//specify your credentials for image and link layers
	      	var YOUR_ACCESS_TOKEN = window.parent.YOUR_ACCESS_TOKEN;

			// configure layers
			var layers = [
				new here.xyz.maps.layers.MVTLayer({
					name: 'background layer',
					min: 1,
					max: 20,
					remote: {
						url: 'https://xyz.api.here.com/tiles/osmbase/256/all/{z}/{x}/{y}.mvt?access_token='+YOUR_ACCESS_TOKEN
					}
				})
			]
			// setup the Map Display
			window.display = new  here.xyz.maps.Map( document.getElementById("map"), {
			    zoomLevel : 17,
			    center: {
					longitude: -122.40112, latitude: 37.7584
			    },

			    // add layers to display
			    layers: layers
			});

/*###visiblesource*/
// Create a data layer for link
var myLinkLayer = new here.xyz.maps.layers.TileLayer({
	name: 'myLinkLayer',
    min: 14,
    max: 20,
    provider: new here.xyz.maps.providers.SpaceProvider ({
		name:  'SpaceProvider',
		level: 14,
		space: 'playground-link',
		credentials: {
            access_token: YOUR_ACCESS_TOKEN
		}
	})
})

// Create another data layer for Place
var myPlaceLayer = new here.xyz.maps.layers.TileLayer({
	name: 'myPlaceLayer',
    min: 14,
    max: 20,
    provider: new here.xyz.maps.providers.SpaceProvider ({
		name:  'SpaceProvider',
		level: 14,
		space: 'playground-place',
		credentials: {
            access_token: YOUR_ACCESS_TOKEN
		}
	})
})

var linkLayerAdded = false;
// click "Add link layer"to add a link layer, click "Remove link layer" to remove the added link layer
document.querySelector("#linklayerbutton").onclick = function(){

	if(!linkLayerAdded){
		display.addLayer(myLinkLayer);

		this.innerText="Remove layer";

		linkLayerAdded = true;
	}
	else{
		display.removeLayer(myLinkLayer);

		this.innerText="Add link layer";

		linkLayerAdded = false;
	}
};

var placeLayerAdded = false;
// click "Add Place layer"to add a Place layer, click "Remove Place layer" to remove the added Place layer
document.querySelector("#placelayerbutton").onclick = function(){

	if(!placeLayerAdded){
		display.addLayer(myPlaceLayer);

		this.innerText="Remove layer";

		placeLayerAdded = true;
	}
	else{
		display.removeLayer(myPlaceLayer);

		this.innerText="Add Place layer";

		placeLayerAdded = false;
	}
};

/*visiblesource###*/
		</script>
	</body>
</html>
