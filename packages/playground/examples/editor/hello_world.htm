 <!DOCTYPE html>
 <html>
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=no">
		<title>XYZ Maps Example: Hello World</title>

	   	<script src="${XYZ_COMMON_PATH}" type="text/javascript" charset="UTF-8" ></script>
	    <script src="${XYZ_CORE_PATH}" type="text/javascript" charset="UTF-8" ></script>
	    <script src="${XYZ_DISPLAY_PATH}" type="text/javascript" charset="UTF-8" ></script>
	    <script src="${XYZ_EDITOR_PATH}" type="text/javascript" charset="UTF-8" ></script>



 		<style type="text/css">
			#map {
				position: absolute;
            	overflow: hidden;
				top: 0;
				left: 0;
				width: 100%;
                height: 100%;
			}
 		</style>
	</head>
	<body>
		<div id="map"></div>

		<script type="application/javascript">
		//specify your credential
      	var YOUR_ACCESS_TOKEN = window.parent.YOUR_ACCESS_TOKEN;

/*###visiblesource*/
// Define customized Provider that extends from SpaceProvider
class MyProvider extends here.xyz.maps.providers.SpaceProvider {

	// Detect feature class, all features are link in this example
	detectFeatureClass(feature) {
		return 'NAVLINK';
	}

	// There is no turn restriction from link A to B
	readTurnRestriction(A, B) {
		return false;
	};

	// Do nothing for editing turn restriction
	writeTurnRestriction(restricted, A, B) {
	}

	// The feature is not pedestrian only
	readPedestrianOnly(feature) {
		return false
	}

	// The feature is two-way street, valid value: 'BOTH' | 'START_TO_END' | 'END_TO_START'
	readDirection(feature) {
		return 'BOTH';
	}
}

var bgLayer = new here.xyz.maps.layers.MVTLayer({
	name: 'background layer',
	min: 1,
	max: 20,
	remote: {
		url: 'https://xyz.api.here.com/tiles/osmbase/256/all/{z}/{x}/{y}.mvt?access_token='+YOUR_ACCESS_TOKEN
	}
});

var linkLayer = new here.xyz.maps.layers.TileLayer({
	name: 'Link Layer',
	min: 14,
	max: 20,
	// Customized provider to provide link objects
	provider: new MyProvider({
		name: 'Links',
		space: "playground-link",
		credentials: {
			access_token: YOUR_ACCESS_TOKEN
		},
		level: 15
	})
});

// setup the Map Display
window.display = new  here.xyz.maps.Map( document.getElementById("map"), {
    zoomLevel : 17,
    center: {
        latitude:37.796902, longitude:-122.217104
    },

    // add layers to display
    layers: [bgLayer, linkLayer]
});

// setup the edit engine
var editor = new here.xyz.maps.editor.Editor( display );

// add link layer to edit engine, make layer editable
editor.addLayer( linkLayer );
/*visiblesource###*/
		</script>
	</body>
</html>
